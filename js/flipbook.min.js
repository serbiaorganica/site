/* v 3.4.2
author http://codecanyon.net/user/creativeinteractivemedia/portfolio?ref=creativeinteractivemedia
*/
var FLIPBOOK=FLIPBOOK||{};!function(e,t,o,n){e.fn.flipBook=function(e){return new FLIPBOOK.Main(e,this)},e.fn.swipeBook=function(e){return e.viewMode="swipe",new FLIPBOOK.Main(e,this)},e.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!1,deeplinkingEnabled:!1,deeplinkingPrefix:"",assets:{preloader:"images/preloader.jpg",overlay:"images/overlay.png",flipMp3:"mp3/turnPage.mp3",spinner:"images/spinner.gif"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",pdfPageScale:2,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundImage:"",backgroundPattern:"",backgroundTransparent:!1,pageWidth:null,pageHeight:null,thumbSize:130,thumbQuality:1,loadAllPages:!1,loadPagesF:2,loadPagesB:1,currentPage:{enabled:!0,title:"Current page"},btnNext:{enabled:!0,title:"Next page",icon:"fa-angle-right",icon2:"navigate_next"},btnLast:{enabled:!1,title:"Last page",icon:"fa-angle-double-right",icon2:"last_page"},btnPrev:{enabled:!0,title:"Previous page",icon:"fa-angle-left",icon2:"navigate_before"},btnFirst:{enabled:!1,title:"First page",icon:"fa-angle-double-left",icon2:"first_page"},btnZoomIn:{enabled:!0,title:"Zoom in",icon:"fa-plus",icon2:"zoom_in"},btnZoomOut:{enabled:!0,title:"Zoom out",icon:"fa-minus",icon2:"zoom_out"},btnToc:{enabled:!0,title:"Table of content",icon:"fa-list-ol",icon2:"toc"},btnThumbs:{enabled:!0,title:"Pages",icon:"fa-th-large",icon2:"view_comfy"},btnShare:{enabled:!0,title:"Share",icon:"fa-link",icon2:"share"},btnDownloadPages:{enabled:!0,title:"Download pages",icon:"fa-download",icon2:"file_download",url:"images/pages.zip",name:"allPages.zip"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",icon:"fa-file",icon2:"picture_as_pdf",url:"images/pages.pdf",openInNewWindow:!0},btnSound:{enabled:!0,title:"Volume",icon:"fa-volume-up",icon2:"volume_up"},btnExpand:{enabled:!0,title:"Toggle fullscreen",icon:"fa-expand",icon2:"fullscreen",iconAlt:"fa-compress",iconAlt2:"fullscreen_exit"},btnSlideshow:{enabled:!1,title:"Toggle slideshow",icon:"fa-play",iconAlt:"fa-pause"},btnPrint:{enabled:!0,title:"Print",icon:"fa-print",icon2:"print"},btnAutoplay:{enabled:!0,title:"Autoplay",icon:"fa-play"},btnSearch:{enabled:!1,title:"Search",icon:"fas fa-search",icon2:"search"},btnBookmark:{enabled:!1,title:"Bookmark",icon:"fas fa-bookmark",icon2:"fas fa-bookmark"},autoplayOnStart:!1,autoplayInterval:3e3,btnTocIfMobile:!0,btnThumbsIfMobile:!0,btnShareIfMobile:!1,btnDownloadPagesIfMobile:!0,btnDownloadPdfIfMobile:!0,btnSoundIfMobile:!1,btnExpandIfMobile:!0,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null},pdf:{annotationLayer:!1},pageTextureSize:2048,minPageTextureSize:512,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,zoomMin:.85,zoomSize:null,zoomStep:2,wheelDisabled:!0,arrowsDisabled:!0,responsiveView:!0,responsiveViewTreshold:768,minPixelRatio:1,skin:"light",pageFlipDuration:1,contentOnStart:!1,thumbnailsOnStart:!1,lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxResetOnOpen:!0,lightboxBackground:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:-20,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,lightColor:16777215,lightPositionX:0,lightPositionZ:1400,lightPositionY:350,lightIntensity:.6,shadows:!0,shadowMapSize:1024,shadowOpacity:.2,shadowDistance:15,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:5,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",antialias:!1,menuMargin:0,menuPadding:0,menuAlignHorizontal:"center",menuShadow:"",menuBackground:"",menuOverBook:!1,btnSize:16,btnRadius:4,btnMargin:4,btnPaddingV:10,btnPaddingH:10,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColor:"",btnColorHover:"",btnBackground:"",btnBackgroundHover:"",sideBtnSize:30,sideBtnRadius:0,sideBtnMargin:0,sideBtnPaddingV:5,sideBtnPaddingH:5,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColor:"#FFF",sideBtnBackground:"rgba(0,0,0,.3)",currentPagePositionV:"top",currentPagePositionH:"left",currentPageMarginV:5,currentPageMarginH:5,closeBtnSize:20,closeBtnRadius:0,closeBtnMargin:0,closeBtnPadding:20,closeBtnTextShadow:"",closeBtnColor:"#FFF",closeBtnBackground:"rgba(0,0,0,.3)",closeBtnBorder:"",preloaderText:"",fillPreloader:{enabled:!1,imgEmpty:"images/logo_light.png",imgFull:"images/logo_dark.png"},logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,printMenu:!0,downloadMenu:!0,backCover:!0,strings:{print:"Print",printLeft:"Print left page",printRight:"Print right page",printCurrent:"Print current page",printAll:"Print all pages",download:"Download",downloadLeft:"Download left page",downloadRight:"Download right page",downloadCurrent:"Current page",downloadAll:"Download all pages",bookmarks:"Bookmarks",bookmarkLeft:"Bookmark left page",bookmarRight:"Bookmark right page",bookmarkCurrent:"Bookmark current page",search:"Search",findInDocument:"Find in document...",pagesFound:"pages found containing",thumbnails:"Thumbnails",tableOfContent:"Table of content",share:"Share"},mobile:{}},FLIPBOOK.Main=function(n,s){var a=this;this.elem=s,this.$elem=e(s),this.$body=e("body"),this.$window=e(t),this.bodyHasVerticalScrollbar=function(){return a.$body.height()>a.$window.height()},this.isZoomed=function(){return this.zoom>1},this.options={};this.model={};var r,l,p,d=o.createElement("div").style,c=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t=0,o=e.length;t<o;t++)if(e[t]+"ransform"in d)return e[t].substr(0,e[t].length-1);return!1}(),h=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),g=(r="perspective",(""===c?r:(r=r.charAt(0).toUpperCase()+r.substr(1),c+r))in d);if(this.msie=t.navigator.userAgent.indexOf("MSIE "),a.isAndroid=h,a.has3d=g,a.hasWebGl=function(e){if(t.WebGLRenderingContext){for(var i=o.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],s=!1,a=0;a<4;a++)try{if((s=i.getContext(n[a]))&&"function"==typeof s.getParameter)return!e||{name:n[a],gl:s}}catch(e){}return!1}return!1}(),a.thumbsShowing=!1,a.tocShowing=!1,a.menuShowing=!0,a.fullscreenActive=!1,a.options=e.extend({},e.fn.flipBook.options,n),a.options.isMobile=e.browser.mobile||u||h,a.options.isMobile)for(var f in a.options.mobile)a.options[f]=a.options.mobile[f];if(a.options.pageShininess=a.options.pageShininess/2,a.s=0,n.lightBox&&(e(this).bind("lightboxLoadingStarted",function(){}),e(this).bind("lightboxOpened",function(){})),e("head").append("<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />"),a.options.isMobile&&(a.options.singlePageMode=!!a.options.singlePageModeIfMobile||a.options.singlePageMode,a.options.viewModeMobile&&(a.options.viewMode=a.options.viewModeMobile),a.options.pageTextureSizeMobile&&(a.options.pageTextureSize=a.options.pageTextureSizeMobile)),"3dSinglePage"==a.options.viewMode&&(a.options.singlePageMode=!0),"2dSinglePage"==a.options.viewMode&&(a.options.singlePageMode=!0,a.options.viewMode="2d"),a.options.singlePageMode&&"2d"!=a.options.viewMode&&(a.options.viewMode="3d"),this.options.singlePageMode&&(a.options.rightToLeft=!1),"webgl"==a.options.viewMode&&(!a.hasWebGl||parseFloat(!!(p=(l=(l||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&p[1])<4.4&&a.isAndroid)&&(a.options.viewMode="3d"),"3d"!=a.options.viewMode||a.has3d||(a.options.viewMode="2d"),a.webgl="webgl"==a.options.viewMode,a.options.isMobile&&n.pdfBrowserViewerIfMobile&&a.options.pdfUrl)a.options.lightBox&&!a.options.lightBoxOpened?a.$elem.on("touched click",function(){k()}).css("cursor","pointer"):k();else{a.options.pdfMode=Boolean(a.options.pdfUrl&&""!=a.options.pdfUrl);var b=a.options.zoomLevels;if(b){for("string"==typeof b&&(b=b.split(",")),i=0;i<b.length;i++)b[i]=Number(b[i]);a.options.zoomLevels=b,a.options.zoomMin=b[0]}if(a.options.backgroundTransparent&&(a.options.backgroundColor="none"),a.options.deeplinking||(a.options.deeplinking={enabled:a.options.deeplinkingEnabled,prefix:a.options.deeplinkingPrefix}),a.wrapper=e(o.createElement("div")).addClass("flipbook-main-wrapper"),""!=a.options.backgroundColor&&a.wrapper.css("background",a.options.backgroundColor),""!=a.options.backgroundPattern&&a.wrapper.css("background","url("+a.options.backgroundPattern+") repeat"),""!=a.options.backgroundImage&&(a.wrapper.css("background","url("+a.options.backgroundImage+") no-repeat"),a.wrapper.css("background-size","cover")),a.bookLayer=e(o.createElement("div")).addClass("flipbook-bookLayer").appendTo(a.wrapper),a.options.hideMenu&&a.bookLayer.css("bottom","0"),a.book=e(o.createElement("div")).addClass("book").appendTo(a.bookLayer),this.options.preloader?this.preloader=this.options.preloader:this.preloader=e('<div class="cssload-container"><div class="cssload-speeding-wheel"/><div class="flipbook-loading-text">'+this.options.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'),this.setLoadingProgress(0),a.options.deeplinking.enabled&&(void 0===a.options.deeplinking.prefix&&(a.options.deeplinking.prefix=""),e(t).bind("hashchange",function(e){if(a.Book&&a.Book.enabled){var t=a.getPageFromHash();t=a.options.rightToLeft?a.options.pages.length-t+1:t,a.options.singlePageMode&&t--,t>=0&&a.Book.goToPage(t,!0)}}),this.options.startPage<=2)){var m=this.getPageFromHash();m>1&&(this.options.lightBoxOpened=!0),this.options.startPage=m}this.options.startPage=this.options.singlePageMode?this.options.startPage-1:this.options.startPage,this.options.main=this,this.options.lightBox?(this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,this.options),this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.preloader.appendTo(e("body")).css("position","fixed"),this.$elem.css("cursor","pointer").bind("tap click",function(e){a.started?(a.lightboxStart(),a.options.lightBoxFullscreen&&setTimeout(function(){a.toggleExpand()},0)):(w(),a.options.lightBoxFullscreen&&setTimeout(function(){a.toggleExpand()},100))}),(this.options.startPage>1||this.options.lightBoxOpened)&&(w(),e(this).trigger("lightboxLoadingStarted"))):(this.preloader.appendTo(this.wrapper),this.wrapper.appendTo(this.$elem),w())}function k(){a.options.pdfBrowserViewerFullscreen?t.open(a.options.pdfUrl,a.options.pdfBrowserViewerFullscreenTarget):e('<object type="application/pdf"/>').width("100%").height("100%").attr("data",a.options.pdfUrl).appendTo(a.$elem)}function w(){if(a.options.fillPreloader.enabled){a.$fillPreloader=e("<div>").addClass("flipbook-fillPreloader");var t=new Image;t.src=a.options.fillPreloader.imgEmpty,t.onload=function(){var o=new Image;o.src=a.options.fillPreloader.imgFull,o.onload=function(){e(t).appendTo(a.$fillPreloader),a.$fillPreloaderImg=e(o).appendTo(a.$fillPreloader),a.$fillPreloader.appendTo(a.wrapper),v()}}}else a.setFillPreloaderProgress(.1),v()}function v(){a.flipsound=o.createElement("audio"),a.flipsound.setAttribute("src",a.options.assets.flipMp3),a.flipsound.setAttribute("type","audio/mpeg"),a.options.pdfMode?a.initPdf(a.options.btnSearch.enabled):a.initJpg()}},FLIPBOOK.Main.prototype={start:function(){this.options.dp&&(this.options.doublePage=!0,this.options.pageMode="doubleWithCover"),this.started||(this.model.pageW=this.options.pageWidth,this.model.bookW=2*this.options.pageWidth,this.model.pageH=this.options.pageHeight,this.model.bookH=this.options.pageHeight,1==this.options.numPages&&(this.options.viewMode="3d",this.webgl=!1),this.options.numPages%2==0?this.options.numSheets=(this.options.numPages+2)/2:this.options.numSheets=(this.options.numPages+1)/2,this.started=!0,this.options.lightBox&&(this.lightbox.openLightbox(),this.lightboxStart()),this.setFillPreloaderProgress(.7),this.createBook())},lightboxStart:function(){var t=this;this.started||this.start(),void 0!==this.Book?(this.Book.enable(),this.options.contentOnStart&&this.toggleToc(!0),this.options.thumbnailsOnStart&&this.toggleThumbs(!0),this.options.lightboxResetOnOpen&&"webgl"!=this.options.viewMode&&this.Book.goToPage(1,!0),t.updateCurrentPage(),t.initColors(),t.resize(),e(this).trigger("lightboxOpened")):setTimeout(function(){t.lightboxStart()},100)},setHash:function(o){o<1&&(o=1),e("body").trigger({type:"updatePage",page:o,name:this.options.name}),this.options.deeplinking.enabled&&this.Book.enabled&&(t.location.hash="#"+this.options.deeplinking.prefix+String(o))},clearHash:function(){this.options.deeplinking.enabled&&(t.location.hash="")},getPageFromHash:function(){var e=parseInt(t.location.hash.replace(/#/g,"").replace(this.options.deeplinking.prefix,""));return isNaN(e)&&(e=0),e},initColors:function(){this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin)},lightboxEnd:function(){screenfull.exit(),t.location.hash&&this.clearHash(),this.setLoadingProgress(1),this.Book.disable()},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage();var e=this.Book.rightIndex||0;this.options.rightToLeft&&(e=this.options.pages.length-e),this.pdfService&&this.pdfService.setRightIndex(e)},updateCurrentPage:function(e){if(void 0!==this.currentPage){var t,o=this.options.rightToLeft,i=this.options.numPages,n=this.Book.rightIndex||0;if(this.options.singlePageMode)return this.options.rightToLeft&&(n=this.options.pages.length-n),this.currentPage.attr("value",String(n+1)),this.currentPage.text(String(n+1)+" / "+String(i)),this.enablePrev(n>0),this.enableNext(n<this.options.pages.length-1),this.currentPageNumber=n,this.setHash(this.currentPageNumber+1),this.cPage=[this.currentPageNumber],this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),void this.wrapper.find(".c-p").hide();if(this.Book.singlePage)return t=o?this.options.pages.length-n:n+1,this.currentPage.attr("value",t),this.currentPage.text(t+" / "+i),this.enablePrev(n>0),this.enableNext(n<this.options.pages.length-1),this.currentPageNumber=n,this.setHash(this.currentPageNumber+1),this.cPage=[this.currentPageNumber],this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),void this.wrapper.find(".c-p").hide();void 0!==e&&(n=e);var s=o?this.options.pages.length-n:n;s>i||s==i&&i%2==0?(t=i,this.cPage=[i-1]):s<1?(t=1,this.cPage=[0]):(t=String(s)+"-"+String(s+1),this.cPage=[s-1,s]),2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show()),t+=" / "+i,this.currentPage.attr("value",String(s)),this.currentPage.text(String(t)),this.s&&this.options.pdfPageScale>0&&this.Book.goToPage(0),i%2!=0&&i--,o?(this.enablePrev(s<i),this.enableNext(s>1)):(this.enablePrev(s>1),this.enableNext(s<i)),this.setHash(s)}},initJpg:function(){var e=this;e.setFillPreloaderProgress(.1),this.loadPage(0,this.options.pageTextureSize,function(){e.setFillPreloaderProgress(.5),e.loadPage(1,e.options.pageTextureSize,function(){var t=e.options.pages[0].img,o=e.options.pages[1].img,i=t.width/t.height,n=o.width/o.height;e.options.pageWidth||(e.options.pageWidth=parseInt(1e3*t.width/t.height)),e.options.pageHeight||(e.options.pageHeight=1e3),e.options.pageMode=n/i>1.5?"doubleWithCover":"singlePage",e.options.doublePage=n/i>1.5,e.options.zoomSize=e.options.zoomSize||t.height,e.setLoadingProgress(.7),e.start()})})},initPdf:function(t){if(!this.started){"swipe"==this.options.viewMode&&(this.options.textLayer=!0),this.$fillPreloader?this.setFillPreloaderProgress(.1):this.setLoadingProgress(.1);var o=this;FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc]||"undefined"!=typeof PDFJS?(o.setFillPreloaderProgress(.2),FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc]||void 0!==FLIPBOOK.PdfService?(o.setFillPreloaderProgress(.3),PDFJS.externalLinkTarget=PDFJS.LinkTarget.BLANK,PDFJS.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc,PDFJS.disableAutoFetch=!0,PDFJS.disableStream=!0,PDFJS.cMapUrl="cmaps/",PDFJS.cMapPacked=!0,PDFJS.getDocument({url:o.options.pdfUrl,rangeChunkSize:524288}).then(function(i){o.pdfDocument=i,o.pdfService=new FLIPBOOK.PdfService(i,o.model,o.options),o.options.pageLoaded=function(e,t){o.Book.onPageLoaded&&o.Book.onPageLoaded(e,t)},o.options.thumbLoaded=function(e){o.options.thumbs=o.options.thumbs||[],o.options.thumbs[e.index]=e},o.options.pageUnloaded=function(e){e.forEach(function(e){o.Book.onPageUnloaded&&o.Book.onPageUnloaded(e.index,e.size)})},o.setFillPreloaderProgress(.5);o.pdfService.init(function(){o.options.pageMode=this.double?"doubleWithCover":"singlePage",o.options.doublePage=this.double,o.viewportOriginal=this.viewports[0],o.options.firstPage={width:this.viewports[0].width,height:this.viewports[0].height,ratio:this.viewports[0].width/this.viewports[0].height},i.pdfInfo.numPages>1&&(o.options.secondPage={width:this.viewports[1].width,height:this.viewports[1].height,ratio:this.viewports[1].width/this.viewports[1].height}),o.options.numPages=i.pdfInfo.numPages;for(var t=[],n=0;n<o.options.numPages;n++){var s={canvas:{}};o.options.pages&&o.options.pages[n]?e.extend(s,o.options.pages[n]):s.title=n+1,t[n]=s}o.options.pages=t;o.book.height();o.options.pageWidth=parseInt(1e3*o.viewportOriginal.width/o.viewportOriginal.height),o.options.pageHeight=1e3,o.options.zoomSize=o.options.zoomSize||o.options.pageTextureSize,o.start()},t)})):o.loadScript(FLIPBOOK.pdfServiceSrc,function(){o.initPdf(t)})):o.loadScript(FLIPBOOK.pdfjsSrc,function(){o.initPdf(t)})}},loadPage:function(t,i,n){var s=this;if(this.options.pdfMode)this.loadPageFromPdf(t,i,n);else{s=this;this.options.pages[t].img?this.options.pages[t].imgLoaded?s.pageLoaded({index:t,size:i,image:s.options.pages[t].img},n):setTimeout(function(){s.loadPage(t,i,n)},300):(this.options.pages[t].img=new Image,this.options.pages[t].img.setAttribute("id",t),this.options.pages[t].img.onload=function(){s.options.pages[t].imgLoaded=!0;var a=e(o.createElement("div")).addClass("flipbook-page-htmlContent");e(s.options.pages[t].htmlContent).appendTo(a),s.pageLoaded({index:t,size:i,image:s.options.pages[t].img,htmlContent:a},n)},this.options.pages[t].img.src=this.options.pages[t].src)}},pageLoaded:function(e,t){t.call(this,e,t),this.options.loadAllPages&&e.index<this.options.numPages-1&&this.loadPage(e.index+1,e.size,function(){})},loadPageFromPdf:function(e,t,o){var i=this.options.doublePage?Math.round(e/2):e;t=t||this.options.pageTextureSize,this.options.pages[e]?this.pdfService.renderPageFromPdf(i,t,o):o.call(this)},loadThumbsFromPdf:function(e){for(var t=this.pdfDocument.pdfInfo.numPages,i=0;i<t;i++){var n=o.createElement("canvas");e[i].thumbCanvas=n}this.loadThumbFromPdf(0,e)},loadThumbFromPdf:function(e,t){var o=this;this.pdfDocument.getPage(e+1).then(function(e){var i=e.getViewport(1),n=o.options.thumbQuality*o.options.thumbSize/i.height,s=e.getViewport(n),a=t[e.pageIndex].thumbCanvas,r=a.getContext("2d");a.height=s.height,a.width=s.width;var l={canvasContext:r,viewport:s};e.cleanupAfterRender=!0,e.render(l).then(function(){e.cleanup(),e.pageIndex+1<o.pdfDocument.pdfInfo.numPages&&o.loadThumbFromPdf(e.pageIndex+1,t)}),o.thumbScroll.refresh()})},findInDocument:function(e){this.hideAllThumbs(),this.$findInfo.hide(),this.pagesFound=0,this.$findInfo.show().text('0 pages found containing "'+e+'"');for(var t=0;t<this.pdfService.pdfInfo.numPages;t++)this.findInPage(e,t)},findInPage:function(e,t){var o=this;this.pdfService.findInPage(e,t,function(i){i>0&&(o.showThumb(t),o.pagesFound++,o.$findInfo.show().text(o.pagesFound+' pages found containing "'+e+'"'))})},scrollPageIntoView:function(e){e=this.options.rightToLeft?this.options.pages.length-e+1:e,this.Book.goToPage(e)},goToPage:function(e){this.Book.goToPage(e)},loadScript:function(e,t){var i=this,s=o.createElement("script"),a=o.getElementsByTagName("script")[0];s.async=1,a.parentNode.insertBefore(s,a),s.onload=s.onreadystatechange=function(o,a){(a||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=n,a||t&&t.call(i),FLIPBOOK.scriptsLoaded[e]=!0)},s.src=e},createBook:function(){var t=this,o=this.model,i=this.options;if(FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc]||"undefined"!=typeof THREE){if(t.setFillPreloaderProgress(.9),"webgl"==t.options.viewMode){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc]&&"undefined"==typeof THREE)return void t.loadScript(FLIPBOOK.threejsSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc]&&void 0===FLIPBOOK.BookWebGL)return void t.loadScript(FLIPBOOK.flipbookWebGlSrc,t.createBook)}else if("swipe"==t.options.viewMode){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSwipeSrc]&&void 0===FLIPBOOK.BookSwipe)return void t.loadScript(FLIPBOOK.flipBookSwipeSrc,t.createBook)}else if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src]&&void 0===FLIPBOOK.Book3)return void t.loadScript(FLIPBOOK.flipbookBook3Src,t.createBook);if(t.setFillPreloaderProgress(1),t.setLoadingProgress(1),this.initEasing(),"doubleWithCover"==t.options.pageMode&&t.options.pages.length>2){for(var n=[t.options.pages[0]],s=1;s<=t.options.pages.length-2;s++){var a=t.options.pages[s],r={src:a.src,thumb:a.thumb,title:a.title,htmlContent:a.htmlContent,side:"left"},l={src:a.src,thumb:a.thumb,title:a.title,htmlContent:a.htmlContent,side:"right"};n.push(r),n.push(l)}n.push(t.options.pages[t.options.pages.length-1]),t.options.pages=n}if(this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||(this.oddPages=!0,this.options.oddPages=!0,this.options.pages.push({src:this.options.assets.preloader,thumb:""})),t.options.pages.length>0)for(s=0;s<t.options.pages.length;s++)void 0!==t.options.pages[s].htmlContent&&(t.options.hasHtmlContent=!0);if("webgl"==t.options.viewMode){var p=t.options;p.scroll=t.scroll,p.parent=t,t.Book=new FLIPBOOK.BookWebGL(t.book[0],o,p),t.webglMode=!0,t.initSwipe()}else"swipe"==t.options.viewMode?(t.Book=new FLIPBOOK.BookSwipe(t.book[0],t.bookLayer[0],o,i),t.initSwipe()):("2d"!=t.options.viewMode&&(t.options.viewMode="3d"),t.Book=new FLIPBOOK.Book3(t.book[0],o,i),t.initSwipe(),t.webglMode=!1);t.Book.enable(),t.book.hide().fadeIn("slow"),e(t.Book).bind("flipEnd",function(){var e=this.rightIndex,o="";if(1==this.mode)o=String(e+1);else{var i=String(e),n=e+1;o=0==i||i==n?String(n):n>this.pagesArr.length?String(i):String(i)+","+String(n)}o+="/",o+=String(this.pagesArr.length),t.currentPage.val(String(o))}),this.createToc(this.options.tableOfContent),this.thumbsCreated=!1,this.createMenu(),this.createCurrentPage(),this.options.currentPage.enabled||this.currentPageHolder.hide(),1==this.options.pages.length&&(this.rightToLeft=!1,this.deeplinking={enabled:!1});var d=e(t.Book);d.bind("loadPagesFromPdf",function(e,o,i,n){t.loadPagesFromPdf(o,i,n)}),d.bind("turnPageComplete",function(e){t.turnPageComplete()}),d.bind("initEasing",function(e){t.initEasing()}),d.bind("playFlipSound",function(e){t.playFlipSound()}),d.bind("closeLightbox",function(e){t.closeLightbox()}),d.bind("updateCurrentPage",function(e){t.updateCurrentPage()}),this.createLogo(),this.onBookCreated()}else t.loadScript(FLIPBOOK.iscrollSrc,t.createBook)},onBookCreated:function(){var i=this.options,n=this;e(t).resize(function(){n.resize()}),i.rightToLeft?n.Book.goToPage(Number(i.pages.length-Number(i.startPage)+1),!0):n.Book.goToPage(Number(i.startPage),!0),this.updateCurrentPage(),o.addEventListener("keydown",function(e){if(n.Book.enabled&&(n.isZoomed()||!n.bodyHasVerticalScrollbar()||n.options.lightBox||n.fullscreenActive||!n.options.arrowsDisabled))switch((e=e||t.event).keyCode){case 37:n.Book.prevPage();break;case 38:n.zoomIn();break;case 39:n.Book.nextPage();break;case 40:n.zoomOut()}}),o.addEventListener("MSFullscreenChange",function(e){n.handleFsChange()}),o.addEventListener("mozfullscreenchange",function(e){n.handleFsChange()}),o.addEventListener("webkitfullscreenchange",function(e){n.handleFsChange()}),o.addEventListener("fullscreenchange",function(e){n.handleFsChange()}),this.zoom=i.zoomMin,this.bookLayer.bind("DOMMouseScroll",function(e){if(n.Book.enabled&&(n.isZoomed()||!n.bodyHasVerticalScrollbar()||n.options.lightBox||n.fullscreenActive||!n.options.wheelDisabled))return e.stopPropagation(),e.preventDefault(),e.originalEvent.detail>0?n.zoomOut(e.originalEvent):n.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("mousewheel",function(e){if(n.Book.enabled&&(n.isZoomed()||!n.bodyHasVerticalScrollbar()||n.options.lightBox||n.fullscreenActive||!n.options.wheelDisabled))return e.stopPropagation(),e.preventDefault(),e.originalEvent.wheelDelta<0?n.zoomOut(e.originalEvent):n.zoomIn(e.originalEvent),!1}),i.contentOnStart&&n.toggleToc(!0),i.thumbnailsOnStart&&n.toggleThumbs(!0),i.autoplayOnStart&&n.toggleAutoplay(!0),n.options.lightBox&&n.Book.disable(),n.Book.updateVisiblePages(),n.initColors(),n.resize(),setTimeout(function(){n.resize()},200),setTimeout(function(){n.resize()},400),setTimeout(function(){n.resize()},600),i.onbookcreated&&i.onbookcreated.call(this)},initSwipe:function(){var e=this;t.jQuery(this.bookLayer).swipe({swipeStatus:function(t,o,i,n,s,a,r){if("start"==o)try{e.currentPageInput.trigger("blur")}catch(t){}if(!e.options.sideNavigationButtons||t.target!==e.arrowL[0]&&t.target!==e.arrowR[0])if(("end"==o||"cancel"==o)&&s<200&&n<10)null==e.clickTimer?e.clickTimer=setTimeout(function(){if(e.clickTimer=null,"touchend"==t.type)t.changedTouches[0].pageX;else if("mouseup"==t.type)t.offsetX},300):(clearTimeout(e.clickTimer),e.clickTimer=null,e.zoom>=e.options.zoomMax?e.zoomTo(e.options.zoomMin,0,t):e.zoomTo(e.options.zoomMax,0,t));else{if(("up"==i||"down"==i)&&"move"==o||e.zoom>1)return;e.Book.onSwipe(t,o,i,n,s,a,r)}},pinchStatus:function(t,o,i,n,s,a,r){a>1&&t.preventDefault(),"start"==o&&(e.zoomStart=e.zoom),"webgl"==e.options.viewMode&&e.zoomTo(e.zoomStart*r,0)},fingers:2,pinchThreshold:0,allowPageScroll:"vertical",preventDefaultEvents:!1}),this.swipeEnabled=!0},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuWrapper.fadeOut(),this.currentPageHolder.fadeOut(),e(".flipbook-nav").fadeOut(),this.Book.onResize()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuWrapper.height()+"px"),this.menuWrapper.fadeIn(),this.currentPageHolder.fadeIn(),e(".flipbook-nav").fadeIn(),this.Book.onResize())},createButton:function(t){var i,n=this.options;"material"==n.icons?(i=e("<i>").appendTo(this.menu).addClass("material-icons flipbook-icon-material flipbook-menu-btn skin-color skin-color-bg").attr("title",t.title).text(t.icon2)).css({"border-radius":n.btnRadius+"px","text-shadow":n.btnTextShadow,"box-shadow":n.btnShadow,border:n.btnBorder,color:n.btnColor,background:n.btnBackground}):(i=e(o.createElement("span")).attr("aria-hidden","true").appendTo(this.menu).addClass(t.icon).addClass("flipbook-icon-fa flipbook-menu-btn skin-color skin-color-bg fa").attr("title",t.title)).css({width:n.btnSize+"px","font-size":n.btnSize+"px","border-radius":n.btnRadius+"px",margin:n.btnMargin+"px",padding:n.btnPaddingV+"px "+n.btnPaddingH+"px","text-shadow":n.btnTextShadow,"box-shadow":n.btnShadow,border:n.btnBorder,color:n.btnColor,background:n.btnBackground});return t.onclick&&i.bind("tap click",function(e){t.onclick()}),(n.btnColorHover||n.btnBackgroundHover||n.btnBorderHover)&&i.mouseenter(function(){i.css({color:n.btnColorHover,background:n.btnBackgroundHover,border:n.btnBorderHover})}).mouseleave(function(){i.css({color:n.btnColor,background:n.btnBackground,border:n.btnBorder})}),i},createMenu:function(){var i=this.options,n=this;if(this.menuWrapper=e(o.createElement("div")).addClass("flipbook-menuWrapper"),this.menuWrapper.appendTo(this.wrapper),i.hideMenu&&this.menuWrapper.hide(),"swipe"==i.viewMode&&(i.btnSound.enabled=!1),this.menu=e(o.createElement("div")).addClass("flipbook-menu skin-color-bg").appendTo(this.menuWrapper).css({background:i.menuBackground,"box-shadow":i.menuShadow,margin:i.menuMargin+"px",padding:i.menuPadding+"px","text-align":i.menuAlignHorizontal}),i.sideNavigationButtons?(n.btnNext=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-right-arrow fa '+n.options.btnNext.icon+' skin-color skin-color-bg"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnNext.disabled||(n.btnNext.disabled=!0,setTimeout(function(){n.btnNext.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.Book.nextPage())}),n.arrowR=n.btnNext.find("span"),n.arrowR.css({width:i.sideBtnSize+"px","font-size":i.sideBtnSize+"px","border-radius":i.sideBtnRadius+"px","margin-top":String(-i.sideBtnSize/2)+"px","margin-right":i.sideBtnMargin+"px",padding:i.sideBtnPaddingV+"px "+i.sideBtnPaddingH+"px","text-shadow":i.sideBtnTextShadow,"box-shadow":i.sideBtnShadow,border:i.sideBtnBorder,color:i.sideBtnColor,background:i.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnNext.title),n.btnPrev=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-left-arrow fa '+n.options.btnPrev.icon+' skin-color skin-color-bg"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnPrev.disabled||(n.btnPrev.disabled=!0,setTimeout(function(){n.btnPrev.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.Book.prevPage())}),n.arrowL=n.btnPrev.find("span"),n.arrowL.css({width:i.sideBtnSize+"px","font-size":i.sideBtnSize+"px","border-radius":i.sideBtnRadius+"px","margin-top":String(-i.sideBtnSize/2)+"px","margin-left":i.sideBtnMargin+"px",padding:i.sideBtnPaddingV+"px "+i.sideBtnPaddingH+"px","text-shadow":i.sideBtnTextShadow,"box-shadow":i.sideBtnShadow,border:i.sideBtnBorder,color:i.sideBtnColor,background:i.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnPrev.title),n.options.btnFirst.enabled&&(n.btnFirst=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-first-arrow fa '+this.options.btnFirst.icon+' skin-color skin-color-bg"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnFirst.disabled||(n.btnFirst.disabled=!0,setTimeout(function(){n.btnFirst.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.Book.goToPage(1))}),n.btnFirst.find("span").css({width:i.sideBtnSize+"px","font-size":.66*i.sideBtnSize+"px","border-radius":i.sideBtnRadius+"px","margin-top":String(i.sideBtnSize/2+i.sideBtnMargin+2*i.sideBtnPaddingV)+"px","margin-left":i.sideBtnMargin+"px",padding:i.sideBtnPaddingV+"px "+i.sideBtnPaddingH+"px","text-shadow":i.sideBtnTextShadow,"box-shadow":i.sideBtnShadow,border:i.sideBtnBorder,color:i.sideBtnColor,background:i.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnFirst.title)),n.options.btnLast.enabled&&(n.btnLast=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-last-arrow fa '+this.options.btnLast.icon+' skin-color skin-color-bg"></div></div>').appendTo(n.bookLayer).bind("tap click",function(e){n.btnLast.disabled||(n.btnLast.disabled=!0,setTimeout(function(){n.btnLast.disabled=!1},300),e.stopPropagation(),e.preventDefault(),n.Book.goToPage(n.options.pages.length))}),n.btnLast.find("span").css({width:i.sideBtnSize+"px","font-size":.66*i.sideBtnSize+"px","border-radius":i.sideBtnRadius+"px","margin-top":String(i.sideBtnSize/2+i.sideBtnMargin+2*i.sideBtnPaddingV)+"px","margin-right":i.sideBtnMargin+"px",padding:i.sideBtnPaddingV+"px "+i.sideBtnPaddingH+"px","text-shadow":i.sideBtnTextShadow,"box-shadow":i.sideBtnShadow,border:i.sideBtnBorder,color:i.sideBtnColor,background:i.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnLast.title))):(i.btnFirst.enabled&&(this.btnFirst=this.createButton(i.btnFirst).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.Book.goToPage(1)})),i.btnPrev.enabled&&(this.btnPrev=this.createButton(i.btnPrev).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.Book.prevPage()})),i.btnNext.enabled&&(this.btnNext=this.createButton(i.btnNext).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.Book.nextPage()})),i.btnLast.enabled&&(this.btnLast=this.createButton(i.btnLast).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.Book.goToPage(n.options.pages.length)}))),i.btnAutoplay.enabled&&(this.btnAutoplay=this.createButton(i.btnAutoplay).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.autoplay||n.Book.nextPage(),n.toggleAutoplay()})),i.btnSearch.enabled&&(this.btnSearch=this.createButton(i.btnSearch).bind("touchend click",function(e){n.toggleSearch()}),this.createSearch()),i.btnBookmark.enabled&&(this.btnBookmark=this.createButton(i.btnBookmark).bind("touchend click",function(e){n.toggleBookmark()}),this.createBookmark()),i.btnZoomIn.enabled&&(this.btnZoomIn=this.createButton(i.btnZoomIn).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.zoomIn()})),i.btnZoomOut.enabled&&(this.btnZoomOut=this.createButton(i.btnZoomOut).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.zoomOut()})),this.onZoom(i.zoom),!i.btnToc.enabled||!i.btnTocIfMobile&&i.isMobile||(this.btnToc=this.createButton(i.btnToc).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleToc()})),!i.btnThumbs.enabled||!i.btnThumbsIfMobile&&i.isMobile||(this.btnThumbs=this.createButton(i.btnThumbs).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleThumbs()})),!i.btnShare.enabled||!i.btnShareIfMobile&&i.isMobile||(this.btnShare=this.createButton(i.btnShare).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleShareMenu()})),!i.btnDownloadPages.enabled||!i.btnDownloadPagesIfMobile&&i.isMobile||(this.btnDownloadPages=this.createButton(i.btnDownloadPages).bind("touchend click",function(e){if(n.options.downloadMenu)n.toggleDownloadMenu();else{e.stopPropagation(),e.preventDefault();var t=o.createElement("a");t.href=i.btnDownloadPages.url,t.download="file.pdf",t.dispatchEvent(new MouseEvent("click"))}})),!i.btnPrint.enabled||!i.btnPrintIfMobile&&i.isMobile||(this.btnPrint=this.createButton(i.btnPrint).bind("touchend click",function(e){n.options.printMenu?n.togglePrintMenu():(e.stopPropagation(),e.preventDefault(),n.togglePrintWindow())})),!i.btnDownloadPdf.enabled||!i.btnDownloadPdfIfMobile&&i.isMobile||(this.btnDownloadPdf=this.createButton(i.btnDownloadPdf),i.pdfMode&&!i.btnDownloadPdf.url&&(i.btnDownloadPdf.url=i.pdfUrl),this.btnDownloadPdf.bind("touchend click",function(e){e.stopPropagation(),e.preventDefault();var o=i.btnDownloadPdf.openInNewWindow||(i.btnDownloadPdf.openInNewWindow,1)?"_blank":"_self";t.open(i.btnDownloadPdf.url,o)})),i.sound&&i.btnSound.enabled&&(i.btnSoundIfMobile||!i.isMobile)&&(this.btnSound=this.createButton(i.btnSound).bind("touchend click",function(t){t.stopPropagation(),t.preventDefault(),i.sound?(i.sound=!1,e(this).addClass("fa-volume-off").removeClass("fa-volume-up")):(i.sound=!0,e(this).addClass("fa-volume-up").removeClass("fa-volume-off"))})),!i.btnExpand.enabled||!i.btnExpandIfMobile&&i.isMobile||(this.btnExpand=this.createButton(i.btnExpand).addClass("btnExpand").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleExpand()})),i.btnSlideshow.enabled&&(this.btnSlideshow=this.createButton(i.btnSlideshow).addClass("btnSlideshow").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleSlideshow()})),i.buttons)for(var s=0;s<i.buttons.length;s++){var a=i.buttons[s];n.createButton(a).index(1)}},handleFsChange:function(){if(this.Book&&this.Book.enabled){var t=this,i=t.lightbox?e(o.body):t.$elem;o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||this.isFullscreen?(e(".btnExpand").addClass(t.options.btnExpand.iconAlt).removeClass(t.options.btnExpand.icon),i.addClass("flipbook-browser-fullscreen"),this.fullscreenActive=!0,this.options.onfullscreenenter&&this.options.onfullscreenenter.call(this)):(e(".btnExpand").addClass(t.options.btnExpand.icon).removeClass(t.options.btnExpand.iconAlt),i.removeClass("flipbook-browser-fullscreen"),this.fullscreenActive=!1,this.options.onfullscreenexit&&this.options.onfullscreenexit.call(this)),this.triggerResize()}},createLogo:function(){var o=this.options;if(o.logoImg&&(!o.isMobile||!o.logoHideOnMobile)){var i=e("<img>").attr("src",o.logoImg).attr("style",o.logoCSS).appendTo(this.wrapper);"right"==o.logoAlignH&&i.css("right","0"),"bottom"==o.logoAlignV&&i.css("bottom","0"),o.logoUrl&&i.bind("touchend click",function(){t.open(o.logoUrl,"_blank")})}},setLoadingProgress:function(t){t>0&&t<1?e(this.preloader).stop(!0,!0).show():e(this.preloader).stop(!0,!0).hide()},setFillPreloaderProgress:function(e){if(this.$fillPreloader)if(e>0&&e<1){if(this.fillPreloaderProgress=this.fillPreloaderProgress||0,e<this.fillPreloaderProgress)return;this.fillPreloaderProgress=e;var t=this.$fillPreloaderImg[0];t.style.clip="rect(0px,"+t.width*e+"px,"+t.height+"px,0px)",this.$fillPreloader.show()}else this.$fillPreloader.hide()},createNavigation:function(){var t=this;this.navLeft=e("<div />"),this.navLeft.css("background","#f00").css("left","0").css("top","200px").attr("aria-hidden","true").addClass("skin-color fa fa-chevron-left fa-5x").css("margin-top",this.navLeft.height()+"px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.prevPage()}),this.navRight=e("<div />").appendTo(this.bookLayer).css("position","absolute").css("width","200px").css("height","200px").css("margin-top","-100px").css("background","#f00").css("right","0").css("top","200px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.nextPage()})},playFlipSound:function(){var e=this;this.options.sound&&this.Book.enabled&&void 0!==this.flipsound.play&&(this.flipsound.currentTime=0,setTimeout(function(){try{e.flipsound.play()}catch(e){}},100))},onMouseWheel:function(e){if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/12,wheelDeltaY=e.wheelDeltaY/12;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/12;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=3*-e.detail}wheelDeltaX>0?this.zoomIn(e):this.zoomOut(e)},zoomTo:function(e,t,o){var i,n;this.zoom=e,void 0===o?(i=this.model.wrapperW/2,n=this.model.wrapperH/2):o.touches&&o.touches[0]?(i=o.touches[0].clientX,n=o.touches[0].clientY):o.changedTouches&&o.changedTouches[0]?(i=o.changedTouches[0].clientX,n=o.changedTouches[0].clientY):(i=o.pageX,n=o.pageY),this.Book.zoomTo(this.zoom,t,i,n),this.onZoom(this.zoom)},zoomOut:function(e){var t=this.zoom/this.options.zoomStep;t=t<this.options.zoomMin?this.options.zoomMin:t,this.zoom=t,this.zoomTo(this.zoom,0,e)},zoomIn:function(e){var t=this.zoom*this.options.zoomStep;this.bookLayer.height()*t>this.options.zoomSize&&(t=this.options.zoomSize/this.bookLayer.height()),this.zoom=t,this.zoomTo(this.zoom,0,e)},onZoom:function(e){this.zoom=e,this.enableButton(this.btnZoomIn,e<this.options.zoomMax),this.enableButton(this.btnZoomOut,e>this.options.zoomMin),this.enableSwipe(e<=1)},enableSwipe:function(e){this.swipeEnabled=e},createCurrentPage:function(){var t=this,i=e("<div>").appendTo(this.wrapper).addClass("flipbook-currentPageHolder");"top"==this.options.currentPagePositionV?i.css("top","0"):i.css("bottom","0"),"left"==this.options.currentPagePositionH?i.css("left","0"):i.css("right","0"),i.css("margin",this.options.currentPageMarginV+"px "+this.options.currentPageMarginH+"px"),this.currentPageHolder=i,this.currentPage=e(o.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(i);var n=e("<form>").appendTo(i).submit(function(e){var o=parseInt(t.currentPageInput.val());return o=o>t.options.pages.length?t.options.pages.length:o,t.options.rightToLeft&&(o=t.options.pages.length-o+1),t.options.singlePageMode&&o--,t.Book.goToPage(o),t.currentPageInput.trigger("blur"),!1});this.currentPageInput=e('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").appendTo(n).focus(function(){t.currentPageInput.val("").width(t.currentPageHolder.width()),t.currentPage.addClass("flipbook-color-transparent")}).blur(function(){t.currentPage.removeClass("flipbook-color-transparent"),t.currentPageInput.val("")})},createSearch:function(){var t=this;this.searchHolder=e("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).hide(),this.search=e("<div>").addClass("flipbook-toc").appendTo(this.searchHolder),t.searchScroll=new FLIPBOOK.IScroll(t.searchHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.search,"Search",this.toggleSearch),this.$searchBar=e('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="Find in document..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search),this.$findInput=this.$searchBar.find("#findInput").keyup(function(){""!=this.value&&t.findInDocument(this.value)}),this.$findInfo=this.$searchBar.find(".flipbook-find-info")},createBookmark:function(){var t=this;this.bookmarkHolder=e("<div>").addClass("flipbook-tocHolder skin-color-bg flipbook-bmHolder flipbook-font").appendTo(this.wrapper).hide(),this.bookmark=e("<div>").addClass("flipbook-toc").appendTo(this.bookmarkHolder),t.bookmarkScroll=new FLIPBOOK.IScroll(t.bookmarkHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.bookmark,"Bookmark",this.toggleBookmark);e('<a><div class="c-p skin-color flipbook-btn">Bookmark current page</div></a>').appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),e('<a><div class="c-l-p skin-color flipbook-btn">Bookmark left page</div></a>').appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),e('<a><div class="c-r-p skin-color flipbook-btn">Bookmark right page</div></a>').appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[1],this),e.preventDefault(),e.stopPropagation()})},createMenuHeader:function(t,o,i){var n=this,s=e("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(t);o=e("<span>").text(o).addClass("flipbook-menu-title skin-color").appendTo(s),e("<span>").attr("aria-hidden","true").appendTo(s).addClass("flipbook-btn-close fa fa-times flipbook-icon-fa skin-color").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.call(n)})},createToc:function(t){var i=this;if(this.tocHolder=e("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).hide(),this.toc=e("<div>").addClass("flipbook-toc").appendTo(this.tocHolder),i.tocScroll=new FLIPBOOK.IScroll(i.tocHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.toc,"Table of content",this.toggleToc),t.length>0){this.options.pages;for(var n=0;n<t.length;n++){var s=e(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",t[n].page).appendTo(this.toc).bind("touchend click",function(t){if(t.stopPropagation(),t.preventDefault(),!i.tocScroll.moved){var o=Number(e(this).attr("title"));o=i.options.rightToLeft?i.options.pages.length-o+1:o,i.Book.goingToPage!=o&&(i.Book.goToPage(o),i.options.tableOfContentCloseOnClick&&i.toggleToc(!1))}});e(o.createElement("span")).appendTo(s).text(t[n].title),e(o.createElement("span")).appendTo(s).attr("class","right").text(t[n].page)}}else{var a=[];if(this.options.rightToLeft)for(n=this.options.pages.length-1;n>=0;n--)a.push(this.options.pages[n]);else a=this.options.pages;for(n=0;n<a.length;n++){var r=a[n].title;if(""!=r&&void 0!==r){s=e(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",String(n+1)).appendTo(this.toc).bind("touchend click",function(t){if(t.stopPropagation(),t.preventDefault(),!i.tocScroll.moved){var o=Number(e(this).attr("title"));o=i.options.rightToLeft?i.options.pages.length-o+1:o,i.Book.goingToPage!=o&&(i.Book.goToPage(o),i.options.tableOfContentCloseOnClick&&i.toggleToc(!1))}});e(o.createElement("span")).appendTo(s).text(r),e(o.createElement("span")).appendTo(s).attr("class","right").text(n+1)}}}i.tocScroll.refresh()},enablePrev:function(e){this.enableButton(this.btnPrev,e),this.enableButton(this.btnFirst,e),this.Book.enablePrev(e)},enableNext:function(e){this.enableButton(this.btnNext,e),this.enableButton(this.btnLast,e),this.Book.enableNext(e)},enableButton:function(e,t){void 0!==e&&(t?(e.css("opacity","1"),e.css("pointer-events","auto")):(e.css("opacity","0.2"),e.css("pointer-events","none")),e.enabled=t)},resize:function(){var e=this;!e.options.menuOverBook&&e.menuShowing?e.bookLayer.css("bottom",e.menuWrapper.height()+"px"):e.bookLayer.css("bottom","0px");var t=this.model;t.wrapperW=this.bookLayer.width(),t.wrapperH=this.bookLayer.height(),e.options.zoomMax=this.options.zoomSize/t.wrapperH,e.Book.onResize(),e.Book.zoomTo(e.options.zoomMin)},pdfResize:function(){this.Book.onZoom()},createThumbs:function(){var t=this;if(this.options.btnThumbs.enabled){this.thumbsCreated=!0,this.thumbHolder=e(o.createElement("div")).addClass("flipbook-thumbHolder").addClass("skin-color-bg").appendTo(t.wrapper).hide(),this.thumbsWrapper=e(o.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"),this.thumbsScroller=e(o.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"),this.createMenuHeader(this.thumbHolder,"Thumbnails",this.toggleThumbs),t.thumbs=[];var i=[];if(this.options.rightToLeft)for(var n=this.options.pages.length-1;n>=0;n--)i.push(this.options.pages[n]);else i=this.options.pages;var s=[];if(this.options.doublePage)for(n=0;n<i.length;n++)0!=n&&n%2==0||s.push(i[n]);else s=i;this.options.pdfMode&&this.loadThumbsFromPdf(s);var a=this.options.thumbSize,r=this.options.thumbSize*this.options.pageWidth/this.options.pageHeight;for(n=0;n<s.length;n++){var l=s[n].thumb,p=e("<div>").addClass("flipbook-thumb").appendTo(t.thumbsScroller).attr("data-thumb-index",n).width(r).height(a);e(o.createElement("span")).attr("aria-hidden","true").appendTo(p).addClass("thumb-btn-close").addClass("fa fa-times").addClass("skin-color").bind("touchend click",function(o){o.stopPropagation(),o.preventDefault(),t.removeBookmark(e(this).parent().attr("data-thumb-index"))}).hide();if(this.thumbs.push(p),s[n].thumbCanvas)var d=e(s[n].thumbCanvas);else{if(!l)continue;(d=e("<img/>").attr("src",l))[0].onload=function(){t.thumbScroll.refresh()}}if(d.appendTo(p),e("<br/>").appendTo(p),this.options.doublePage&&n>0){p.width(2*r),d.height(a).width(2*r).attr("page-title",2*n+1);e(o.createElement("soan")).text(String(2*n)+"-"+String(2*n+1)).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}else{d.height(a).width(r).attr("page-title",n+1);e(o.createElement("span")).text(n+1).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}d.bind("touchend click",function(o){if(o.stopPropagation(),o.preventDefault(),!t.thumbScroll.moved){var i=Number(e(this).attr("page-title"));t.options.rightToLeft&&(i=t.options.pages.length-i+1),t.options.singlePageMode&&i--,t.Book.goingToPage!=i&&t.Book.goToPage(i)}})}this.thumbScroll=new FLIPBOOK.IScroll(this.thumbsWrapper[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0})}},toggleThumbs:function(t){this.thumbsCreated||(this.createThumbs(),this.initColors()),this.thumbHolder&&(!this.thumbsShowing||t?(this.closeMenus(),this.thumbsShowing=!0,this.thumbHolder.show(),this.thumbsVertical(),this.thumbsWrapper.appendTo(this.thumbHolder).css("top","50px"),this.showAllThumbs(),e(".thumb-btn-close").hide()):(this.thumbHolder.hide(),this.thumbsShowing=!1),this.resize())},toggleToc:function(e){!this.tocShowing||e?(this.closeMenus(),this.tocShowing=!0,this.tocHolder.show(),this.tocScroll.refresh()):(this.tocHolder.hide(),this.tocShowing=!1),this.resize()},toggleSearch:function(t){this.thumbsCreated||(this.createThumbs(),this.initColors()),!this.searchShowing||t?(this.closeMenus(),this.searchShowing=!0,this.searchHolder.show(),this.thumbsWrapper.appendTo(this.searchHolder).css("top","120px"),this.hideAllThumbs(),e(".thumb-btn-close").hide(),this.searchScroll.refresh(),this.$findInput.focus()):(this.searchHolder.hide(),this.searchShowing=!1),this.$findInput.val(""),this.$findInfo.hide(),this.resize()},toggleBookmark:function(){this.thumbsCreated||(this.createThumbs(),this.initColors()),this.bookmarkShowing?(this.bookmarkHolder.hide(),this.bookmarkShowing=!1,e(".thumb-btn-close").hide()):(this.closeMenus(),this.bookmarkShowing=!0,e(".thumb-btn-close").show(),this.bookmarkHolder.show(),this.bookmarkScroll.refresh(),this.thumbsWrapper.appendTo(this.bookmarkHolder).css("top","120px"),this.showBookmarkedThumbs(),this.bookmarkScroll.refresh()),this.resize()},closeMenus:function(){this.thumbsShowing&&this.toggleThumbs(),this.tocShowing&&this.toggleToc(),this.searchShowing&&this.toggleSearch(),this.bookmarkShowing&&this.toggleBookmark(),this.printMenuShowing&&this.togglePrintMenu(),this.dlMenuShowing&&this.toggleDownloadMenu(),this.shareMenuShowing&&this.toggleShareMenu()},togglePrintMenu:function(){var t=this;if(this.printMenu)this.printMenuShowing?(this.printMenu.hide(),this.printMenuShowing=!1):(this.closeMenus(),this.printMenu.show(),this.printMenuShowing=!0);else{this.printMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var o=e('<idv class="flipbook-sub-menu-center">').appendTo(this.printMenu),i=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(o);this.createMenuHeader(i,"Print",this.togglePrintMenu);e('<a><div class="c-p skin-color flipbook-btn">Print current page</div></a>').appendTo(i).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),e('<a><div class="c-l-p skin-color flipbook-btn">Print left page</div></a>').appendTo(this.printMenu).appendTo(i).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),e('<a><div class="c-r-p skin-color flipbook-btn">Print right page</div></a>').appendTo(this.printMenu).appendTo(i).bind("touchend click",function(e){t.printPage(t.cPage[1],this)}),e('<a><div class="skin-color flipbook-btn">Print all pages</div></a>').appendTo(i).bind("touchend click",function(e){t.togglePrintWindow()});this.closeMenus(),this.printMenuShowing=!0,this.initColors()}2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show())},toggleDownloadMenu:function(){var t=this;if(this.dlMenu)this.dlMenuShowing?(this.dlMenu.hide(),this.dlMenuShowing=!1):(this.dlMenu.show(),this.closeMenus(),this.dlMenuShowing=!0);else{this.dlMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var i=e('<idv class="flipbook-sub-menu-center">').appendTo(this.dlMenu),n=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(i);this.createMenuHeader(n,"Download",this.toggleDownloadMenu);e('<a><div class="c-p skin-color flipbook-btn">Download current page</div></a>').appendTo(n).bind("touchend click",function(e){t.downloadPage(t.cPage[0],this)}),e('<a><div class="c-l-p skin-color flipbook-btn">Download left page</div></a>').appendTo(n).bind("touchend click",function(e){t.downloadPage(t.cPage[0],this)}),e('<a><div class="c-r-p skin-color flipbook-btn">Download right page</div></a>').appendTo(n).bind("touchend click",function(e){t.downloadPage(t.cPage[1],this)}),e('<a><div class="skin-color flipbook-btn">Download all pages</div></a>').appendTo(n).bind("touchend click",function(e){var i=o.createElement("a");i.href=t.options.btnDownloadPages.url,i.download=t.options.btnDownloadPages.name,i.dispatchEvent(new MouseEvent("click"))});this.closeMenus(),this.dlMenuShowing=!0,this.initColors()}2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show())},toggleShareMenu:function(){if(this.shareMenu)this.shareMenuShowing?(this.shareMenu.hide(),this.shareMenuShowing=!1):(this.shareMenu.show(),this.closeMenus(),this.shareMenuShowing=!0);else{this.shareMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var t=e('<idv class="flipbook-sub-menu-center">').appendTo(this.shareMenu),o=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(t);this.createMenuHeader(o,"Share",this.toggleShareMenu);var i=e('<idv class="flipbook-share">').appendTo(o),n=this.options;this.share=new Share(i[0],{networks:{google_plus:n.google_plus,twitter:n.twitter,facebook:n.facebook,pinterest:n.pinterest,email:n.email}}),this.closeMenus(),this.shareMenuShowing=!0,this.initColors()}},bookmarkPage:function(e){var t=this.getBookmarkedPages();t.indexOf(String(e))<0&&t.push(e),this.setBookmarkedPages(t),this.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},removeBookmark:function(e){var t=this.getBookmarkedPages();t.indexOf(String(e))>-1&&t.splice(t.indexOf(String(e)),1),this.setBookmarkedPages(t),this.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},isBookmarked:function(e){return this.getBookmarkedPages().indexOf(String(e))>0},getBookmarkedPages:function(){var e=localStorage.getItem(this.options.name+"_flipbook_bookmarks");return e?e.split(";"):[]},setBookmarkedPages:function(e){localStorage.setItem(this.options.name+"_flipbook_bookmarks",e.join(";"))},printPage:function(e,o){var i;if(this.options.pages[e]&&this.options.pages[e].print?i=this.options.pages[e].print:this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]?i=this.options.pages[e].canvas[this.options.pageTextureSize].toDataURL():this.options.pages[e]&&this.options.pages[e].src&&(i=this.options.pages[e].src),i){var n="<!DOCTYPE html>";n+="<html>",n+="<head><title>Print canvas</title></head>",n+="<body>",n+='<img src="'+i+'">',n+="</body>",n+="</html>";var s=t.open("","Print","height=1600,width=800");s.document.open(),s.document.write(n),s.document.close(),s.document.addEventListener("load",function(){s.focus(),s.print(),s.document.close(),s.close()},!0)}},downloadPage:function(e){if(this.options.pages[e]&&this.options.pages[e].download)url=this.options.pages[e].download;else if(this.options.pages[e]&&this.options.pages[e].src)url=this.options.pages[e].src;else if(this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]){var t=o.createElement("canvas"),i=this.options.pageWidth/this.options.pageHeight;t.width=this.options.pageTextureSize*i,t.height=this.options.pageTextureSize,t.getContext("2d").drawImage(this.options.pages[e].canvas[this.options.pageTextureSize],0,0),url=t.toDataURL("image/jpeg",.5),delete t}if(url){var n=o.createElement("a");n.href=url,n.download="page"+String(e+1),o.body.appendChild(n),n.click(),o.body.removeChild(n),delete n}},showAllThumbs:function(){e(".flipbook-thumb").show(),this.thumbScroll.refresh()},hideAllThumbs:function(){e(".flipbook-thumb").hide(),this.thumbScroll.refresh()},showThumb:function(e){this.thumbs[e].show(),this.thumbScroll.refresh()},hideThumb:function(e){this.thumbs[e].hide(),this.thumbScroll.refresh()},showBookmarkedThumbs:function(){var e=this.getBookmarkedPages();this.hideAllThumbs();for(var t=0;t<e.length;t++){var o=e[t];this.showThumb(o)}},printPdf:function(e){t.open(e,"_blank").onload=function(){this.print()}},togglePrintWindow:function(e){var o;(o=this).options.printPdfUrl?o.printPdf(o.options.printPdfUrl):o.options.pdfUrl?o.printPdf(o.options.pdfUrl):i();function i(){link="about:blank";var e=t.open(link,"_new");e.document.open();for(var i="",n=0;n<o.options.pages.length;n++)o.options.pages[n].src&&(i+='<img src="'+o.options.pages[n].src.toString()+'"/>\n');var s="<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.print();\n  window.close();\n}\n<\/script>\n</head>\n<body onLoad='step1()'>\n"+i+"</body>\n</html>\n";e.document.write(s),e.document.close()}},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(t){this.browserFullscreen=!0;var i=this.lightbox?o.documentElement:this.elem[0];screenfull.enabled?screenfull.toggle(i):(e(i).toggleClass("flipbook-browser-fullscreen"),this.isFullscreen=!this.isFullscreen,this.handleFsChange())},expand:function(){},toggleAutoplay:function(e){var t=this;this.autoplay=e||!this.autoplay,this.autoplay?(this.menuWrapper.find(".fa-play").removeClass("fa-play").addClass("fa-pause"),this.autoplayTimer=setInterval(function(){if(t.autoplay){var e=t.options.autoplayStartPage||1;t.options.rightToLeft?t.Book.prevEnabled?t.Book.prevPage():t.goToPage(t.options.pages.length-e+1):t.Book.nextEnabled?t.Book.nextPage():t.goToPage(e)}},t.options.autoplayInterval)):(this.menuWrapper.find(".fa-pause").removeClass("fa-pause").addClass("fa-play"),clearInterval(t.autoplayTimer))},triggerResize:function(){setTimeout(function(){e(t).trigger("resize")},100),setTimeout(function(){e(t).trigger("resize")},500),setTimeout(function(){e(t).trigger("resize")},2e3)},toggleSlideshow:function(){},initEasing:function(){t.jQuery.extend(t.jQuery.easing,{def:"easeOutQuad",swing:function(t,o,i,n,s){return e.easing[e.easing.def](t,o,i,n,s)},easeInQuad:function(e,t,o,i,n){return i*(t/=n)*t+o},easeOutQuad:function(e,t,o,i,n){return-i*(t/=n)*(t-2)+o},easeInOutQuad:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t+o:-i/2*(--t*(t-2)-1)+o},easeInCubic:function(e,t,o,i,n){return i*(t/=n)*t*t+o},easeOutCubic:function(e,t,o,i,n){return i*((t=t/n-1)*t*t+1)+o},easeInOutCubic:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t+o:i/2*((t-=2)*t*t+2)+o},easeInQuart:function(e,t,o,i,n){return i*(t/=n)*t*t*t+o},easeOutQuart:function(e,t,o,i,n){return-i*((t=t/n-1)*t*t*t-1)+o},easeInOutQuart:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t+o:-i/2*((t-=2)*t*t*t-2)+o},easeInQuint:function(e,t,o,i,n){return i*(t/=n)*t*t*t*t+o},easeOutQuint:function(e,t,o,i,n){return i*((t=t/n-1)*t*t*t*t+1)+o},easeInOutQuint:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+o:i/2*((t-=2)*t*t*t*t+2)+o},easeInSine:function(e,t,o,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+o},easeOutSine:function(e,t,o,i,n){return i*Math.sin(t/n*(Math.PI/2))+o},easeInOutSine:function(e,t,o,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+o},easeInExpo:function(e,t,o,i,n){return 0==t?o:i*Math.pow(2,10*(t/n-1))+o},easeOutExpo:function(e,t,o,i,n){return t==n?o+i:i*(1-Math.pow(2,-10*t/n))+o},easeInOutExpo:function(e,t,o,i,n){return 0==t?o:t==n?o+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+o:i/2*(2-Math.pow(2,-10*--t))+o},easeInCirc:function(e,t,o,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+o},easeOutCirc:function(e,t,o,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+o},easeInOutCirc:function(e,t,o,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+o:i/2*(Math.sqrt(1-(t-=2)*t)+1)+o},easeInElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)+o},easeOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/a)+i+o},easeInOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(2==(t/=n/2))return o+i;if(a||(a=n*(.3*1.5)),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*-.5+o:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*.5+i+o},easeInBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),i*(t/=s)*t*((a+1)*t-a)+o},easeOutBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),i*((t=t/s-1)*t*((a+1)*t+a)+1)+o},easeInOutBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+o:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+o},easeInBounce:function(t,o,i,n,s){return n-e.easing.easeOutBounce(t,s-o,0,n,s)+i},easeOutBounce:function(e,t,o,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+o:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+o:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+o:i*(7.5625*(t-=2.625/2.75)*t+.984375)+o},easeInOutBounce:function(t,o,i,n,s){return o<s/2?.5*e.easing.easeInBounce(t,2*o,0,n,s)+i:.5*e.easing.easeOutBounce(t,2*o-s,0,n,s)+.5*n+i}})}},FLIPBOOK.Book=function(){},FLIPBOOK.Book.prototype={rightIndex:0,goToPage:function(){}},FLIPBOOK.Lightbox=function(t,i,n){var s=this;this.context=t,this.options=n,this.lightboxOpened=!1,t.$elem.bind("tap click",function(e){s.openLightbox()});e(t.elem).find("img");s.overlay=e(o.createElement("div")).attr("class","flipbook-overlay").css("display","none").css("top",s.options.lightboxMarginV).css("bottom",s.options.lightboxMarginV).css("left",s.options.lightboxMarginH).css("right",s.options.lightboxMarginH).bind("tap click",function(t){e(t.target).hasClass("flipbook-bookLayer")&&s.options.lightboxCloseOnClick&&s.closeLightbox()}).appendTo("body"),n.lightboxBackground&&s.overlay.css("background",n.lightboxBackground),e(o).keyup(function(e){27==e.keyCode&&s.closeLightbox()}),s.wrapper=e(o.createElement("div")).css("height","auto").appendTo(s.overlay),s.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),i.appendTo(s.wrapper);var a=e("<div/>").appendTo(s.wrapper).addClass("flipbook-lightbox-toolbar"),r=n;e('<span title="Press Esc tp close"/>').appendTo(a).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),s.closeLightbox()}).addClass("flipbook-lightbox-close fa fa-times").css({"font-size":r.closeBtnSize+"px",padding:r.closeBtnPadding+"px ",margin:r.closeBtnMargin+"px ","border-radius":r.closeBtnRadius+"px ","text-shadow":r.closeBtnTextShadow,color:r.closeBtnColor,background:r.closeBtnBackground,border:r.closeBtnBorder})},FLIPBOOK.Lightbox.prototype={openLightbox:function(){this.lightboxOpened||(this.lightboxOpened=!0,this.overlay.css("display","none"),this.overlay.fadeIn("slow",function(){}),e("body").addClass("flipbook-overflow-hidden"),e("html").addClass("flipbook-overflow-hidden"))},closeLightbox:function(){1==this.lightboxOpened&&(this.lightboxOpened=!1,this.overlay.fadeOut("fast"),e("body").removeClass("flipbook-overflow-hidden"),e("html").removeClass("flipbook-overflow-hidden"),this.context.lightboxEnd())},resize:function(){var o=e(t);o.width(),o.height()}},FLIPBOOK.getFlipbookSrc=function(){for(var e=o.getElementsByTagName("script"),t=0;t<e.length;t++){var i=String(e[t].src);if(i.match("flipbook\\.js")||i.match("flipbook\\.min\\.js"))return i}return""},FLIPBOOK.flipbookSrc=FLIPBOOK.getFlipbookSrc(),FLIPBOOK.iscrollSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/iscroll."),FLIPBOOK.threejsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/three."),FLIPBOOK.flipbookWebGlSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.webgl."),FLIPBOOK.flipbookBook3Src=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.book3."),FLIPBOOK.flipBookSwipeSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.swipe."),FLIPBOOK.pdfjsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf."),FLIPBOOK.pdfServiceSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.pdfservice."),FLIPBOOK.pdfjsworkerSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf.worker."),FLIPBOOK.scriptsLoaded={}}(jQuery,window,document),function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=o.length,s={};n>i;i++)if((e=o[i])&&e[1]in document){for(i=0,t=e.length;t>i;i++)s[o[0][i]]=e[i];return s}return!1}(),i={request:function(e){var i=o.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:o};o?(Object.defineProperties(i,{isFullscreen:{get:function(){return!!document[o.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[o.fullscreenEnabled]}}}),e?module.exports=i:window.screenfull=i):e?module.exports=!1:window.screenfull=!1}(),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=l),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var M=e(this),O=M.data(y);O||(O=new function(t,M){function O(t){if(!(!0===Se.data(y+"_intouch")||e(t.target).closest(M.excludedElements,Se).length>0)){var a=t.originalEvent?t.originalEvent:t;if(!a.pointerType||"mouse"!=a.pointerType||0!=M.fallbackToMouseEvents){var r,l=a.touches,p=l?l[0]:a;return Be=w,l?xe=l.length:!1!==M.preventDefaultEvents&&t.preventDefault(),he=0,ue=null,ge=null,ve=null,fe=0,be=0,me=0,ke=1,we=0,(d={})[o]=te(o),d[i]=te(i),d[n]=te(n),d[s]=te(s),Pe=d,Z(),J(0,p),!l||xe===M.fingers||M.fingers===m||W()?(ye=se(),2==xe&&(J(1,l[1]),be=me=ie(Te[0].start,Te[1].start)),(M.swipeStatus||M.pinchStatus)&&(r=_(a,Be))):r=!1,!1===r?(_(a,Be=S),r):(M.hold&&(Fe=setTimeout(e.proxy(function(){Se.trigger("hold",[a.target]),M.hold&&(r=M.hold.call(Se,a,a.target))},this),M.longTapThreshold)),X(!0),null)}}var d}function I(t){var d,c,h,u,g,k,w,B,x=t.originalEvent?t.originalEvent:t;if(Be!==P&&Be!==S&&!Y()){var T,y=x.touches,O=y?y[0]:x,I=G(O);if(Me=se(),y&&(xe=y.length),M.hold&&clearTimeout(Fe),Be=v,2==xe&&(0==be?(J(1,y[1]),be=me=ie(Te[0].start,Te[1].start)):(G(y[1]),me=ie(Te[0].end,Te[1].end),Te[0].end,Te[1].end,ve=ke<1?r:a),ke=(me/be*1).toFixed(2),we=Math.abs(be-me)),xe===M.fingers||M.fingers===m||!y||W()){if(ue=ne(I.start,I.end),ge=ne(I.last,I.end),function(e,t){if(!1!==M.preventDefaultEvents)if(M.allowPageScroll===l)e.preventDefault();else{var a=M.allowPageScroll===p;switch(t){case o:(M.swipeLeft&&a||!a&&M.allowPageScroll!=f)&&e.preventDefault();break;case i:(M.swipeRight&&a||!a&&M.allowPageScroll!=f)&&e.preventDefault();break;case n:(M.swipeUp&&a||!a&&M.allowPageScroll!=b)&&e.preventDefault();break;case s:(M.swipeDown&&a||!a&&M.allowPageScroll!=b)&&e.preventDefault()}}}(t,ge),w=I.start,B=I.end,he=Math.round(Math.sqrt(Math.pow(B.x-w.x,2)+Math.pow(B.y-w.y,2))),fe=oe(),k=he,(g=ue)!=l&&(k=Math.max(k,ee(g)),Pe[g].distance=k),T=_(x,Be),!M.triggerOnTouchEnd||M.triggerOnTouchLeave){var L=!0;if(M.triggerOnTouchLeave){var C={left:(u=(h=e(h=this)).offset()).left,right:u.left+h.outerWidth(),top:u.top,bottom:u.top+h.outerHeight()};d=I.end,c=C,L=d.x>c.left&&d.x<c.right&&d.y>c.top&&d.y<c.bottom}!M.triggerOnTouchEnd&&L?Be=z(v):M.triggerOnTouchLeave&&!L&&(Be=z(P)),Be!=S&&Be!=P||_(x,Be)}}else _(x,Be=S);!1===T&&_(x,Be=S)}}function L(e){var t,o=e.originalEvent?e.originalEvent:e,i=o.touches;if(i){if(i.length&&!Y())return t=o,Oe=se(),Ie=t.touches.length+1,!0;if(i.length&&Y())return!0}return Y()&&(xe=Ie),Me=se(),fe=oe(),A()||!H()?_(o,Be=S):M.triggerOnTouchEnd||!1===M.triggerOnTouchEnd&&Be===v?(!1!==M.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),_(o,Be=P)):!M.triggerOnTouchEnd&&q()?D(o,Be=P,h):Be===v&&_(o,Be=S),X(!1),null}function C(){xe=0,Me=0,ye=0,be=0,me=0,ke=1,Z(),X(!1)}function F(e){var t=e.originalEvent?e.originalEvent:e;M.triggerOnTouchLeave&&(Be=z(P),_(t,Be))}function E(){Se.unbind(re,O),Se.unbind(ce,C),Se.unbind(le,I),Se.unbind(pe,L),de&&Se.unbind(de,F),X(!1)}function z(e){var t=e,o=N(),i=H(),n=A();return!o||n?t=S:!i||e!=v||M.triggerOnTouchEnd&&!M.triggerOnTouchLeave?!i&&e==P&&M.triggerOnTouchLeave&&(t=S):t=P,t}function _(e,t){var o,i=e.touches;return(!(!R()||!j())||j())&&(o=D(e,t,d)),(!(!K()||!W())||W())&&!1!==o&&(o=D(e,t,c)),Q()&&$()&&!1!==o?o=D(e,t,u):fe>M.longTapThreshold&&he<k&&M.longTap&&!1!==o?o=D(e,t,g):!(1!==xe&&B||!(isNaN(he)||he<M.threshold)||!q())&&!1!==o&&(o=D(e,t,h)),t===S&&C(),t===P&&(i&&i.length||C()),o}function D(t,l,p){var f;if(p==d){if(Se.trigger("swipeStatus",[l,ue||null,he||0,fe||0,xe,Te,ge]),M.swipeStatus&&!1===(f=M.swipeStatus.call(Se,t,l,ue||null,he||0,fe||0,xe,Te,ge)))return!1;if(l==P&&R()){if(clearTimeout(Ce),clearTimeout(Fe),Se.trigger("swipe",[ue,he,fe,xe,Te,ge]),M.swipe&&!1===(f=M.swipe.call(Se,t,ue,he,fe,xe,Te,ge)))return!1;switch(ue){case o:Se.trigger("swipeLeft",[ue,he,fe,xe,Te,ge]),M.swipeLeft&&(f=M.swipeLeft.call(Se,t,ue,he,fe,xe,Te,ge));break;case i:Se.trigger("swipeRight",[ue,he,fe,xe,Te,ge]),M.swipeRight&&(f=M.swipeRight.call(Se,t,ue,he,fe,xe,Te,ge));break;case n:Se.trigger("swipeUp",[ue,he,fe,xe,Te,ge]),M.swipeUp&&(f=M.swipeUp.call(Se,t,ue,he,fe,xe,Te,ge));break;case s:Se.trigger("swipeDown",[ue,he,fe,xe,Te,ge]),M.swipeDown&&(f=M.swipeDown.call(Se,t,ue,he,fe,xe,Te,ge))}}}if(p==c){if(Se.trigger("pinchStatus",[l,ve||null,we||0,fe||0,xe,ke,Te]),M.pinchStatus&&!1===(f=M.pinchStatus.call(Se,t,l,ve||null,we||0,fe||0,xe,ke,Te)))return!1;if(l==P&&K())switch(ve){case a:Se.trigger("pinchIn",[ve||null,we||0,fe||0,xe,ke,Te]),M.pinchIn&&(f=M.pinchIn.call(Se,t,ve||null,we||0,fe||0,xe,ke,Te));break;case r:Se.trigger("pinchOut",[ve||null,we||0,fe||0,xe,ke,Te]),M.pinchOut&&(f=M.pinchOut.call(Se,t,ve||null,we||0,fe||0,xe,ke,Te))}}return p==h?l!==S&&l!==P||(clearTimeout(Ce),clearTimeout(Fe),$()&&!Q()?(Le=se(),Ce=setTimeout(e.proxy(function(){Le=null,Se.trigger("tap",[t.target]),M.tap&&(f=M.tap.call(Se,t,t.target))},this),M.doubleTapThreshold)):(Le=null,Se.trigger("tap",[t.target]),M.tap&&(f=M.tap.call(Se,t,t.target)))):p==u?l!==S&&l!==P||(clearTimeout(Ce),clearTimeout(Fe),Le=null,Se.trigger("doubletap",[t.target]),M.doubleTap&&(f=M.doubleTap.call(Se,t,t.target))):p==g&&(l!==S&&l!==P||(clearTimeout(Ce),Le=null,Se.trigger("longtap",[t.target]),M.longTap&&(f=M.longTap.call(Se,t,t.target)))),f}function H(){var e=!0;return null!==M.threshold&&(e=he>=M.threshold),e}function A(){var e=!1;return null!==M.cancelThreshold&&null!==ue&&(e=ee(ue)-he>=M.cancelThreshold),e}function N(){return!(M.maxTimeThreshold&&fe>=M.maxTimeThreshold)}function K(){var e=V(),t=U(),o=null===M.pinchThreshold||we>=M.pinchThreshold;return e&&t&&o}function W(){return!!(M.pinchStatus||M.pinchIn||M.pinchOut)}function R(){var e=N(),t=H(),o=V(),i=U(),n=A(),s=!n&&i&&o&&t&&e;return s}function j(){return!!(M.swipe||M.swipeStatus||M.swipeLeft||M.swipeRight||M.swipeUp||M.swipeDown)}function V(){return xe===M.fingers||M.fingers===m||!B}function U(){return 0!==Te[0].end.x}function q(){return!!M.tap}function $(){return!!M.doubleTap}function Q(){if(null==Le)return!1;var e=se();return $()&&e-Le<=M.doubleTapThreshold}function Z(){Oe=0,Ie=0}function Y(){var e=!1;if(Oe){var t=se()-Oe;t<=M.fingerReleaseThreshold&&(e=!0)}return e}function X(e){Se&&(!0===e?(Se.bind(le,I),Se.bind(pe,L),de&&Se.bind(de,F)):(Se.unbind(le,I,!1),Se.unbind(pe,L,!1),de&&Se.unbind(de,F,!1)),Se.data(y+"_intouch",!0===e))}function J(e,t){var o={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return o.start.x=o.last.x=o.end.x=t.pageX||t.clientX,o.start.y=o.last.y=o.end.y=t.pageY||t.clientY,Te[e]=o,o}function G(e){var t=void 0!==e.identifier?e.identifier:0,o=Te[t]||null;return null===o&&(o=J(t,e)),o.last.x=o.end.x,o.last.y=o.end.y,o.end.x=e.pageX||e.clientX,o.end.y=e.pageY||e.clientY,o}function ee(e){if(Pe[e])return Pe[e].distance}function te(e){return{direction:e,distance:0}}function oe(){return Me-ye}function ie(e,t){var o=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(o*o+i*i))}function ne(e,t){if(r=t,(a=e).x==r.x&&a.y==r.y)return l;var a,r,p,d,c,h,u,g,f=(d=t,c=(p=e).x-d.x,h=d.y-p.y,u=Math.atan2(h,c),(g=Math.round(180*u/Math.PI))<0&&(g=360-Math.abs(g)),g);return f<=45&&f>=0?o:f<=360&&f>=315?o:f>=135&&f<=225?i:f>45&&f<135?s:n}function se(){var e=new Date;return e.getTime()}var M=e.extend({},M),ae=B||T||!M.fallbackToMouseEvents,re=ae?T?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",le=ae?T?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",pe=ae?T?x?"MSPointerUp":"pointerup":"touchend":"mouseup",de=ae?T?"mouseleave":null:"mouseleave",ce=T?x?"MSPointerCancel":"pointercancel":"touchcancel",he=0,ue=null,ge=null,fe=0,be=0,me=0,ke=1,we=0,ve=0,Pe=null,Se=e(t),Be="start",xe=0,Te={},ye=0,Me=0,Oe=0,Ie=0,Le=0,Ce=null,Fe=null;try{Se.bind(re,O),Se.bind(ce,C)}catch(t){e.error("events not supported "+re+","+ce+" on jQuery.swipe")}this.enable=function(){return this.disable(),Se.bind(re,O),Se.bind(ce,C),Se},this.disable=function(){return E(),Se},this.destroy=function(){E(),Se.data(y,null),Se=null},this.option=function(t,o){if("object"==typeof t)M=e.extend(M,t);else if(void 0!==M[t]){if(void 0===o)return M[t];M[t]=o}else{if(!t)return M;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}(this,t),M.data(y,O))})}var o="left",i="right",n="up",s="down",a="in",r="out",l="none",p="auto",d="swipe",c="pinch",h="tap",u="doubletap",g="longtap",f="horizontal",b="vertical",m="all",k=10,w="start",v="move",P="end",S="cancel",B="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!B,T=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!B,y="TouchSwipe";e.fn.swipe=function(o){var i=e(this),n=i.data(y);if(n&&"string"==typeof o){if(n[o])return n[o].apply(n,Array.prototype.slice.call(arguments,1));e.error("Method "+o+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof o)n.option.apply(n,arguments);else if(!(n||"object"!=typeof o&&o))return t.apply(this,arguments);return i},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:v,PHASE_END:P,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:o,RIGHT:i,UP:n,DOWN:s,IN:a,OUT:r},e.fn.swipe.pageScroll={NONE:l,HORIZONTAL:f,VERTICAL:b,AUTO:p},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:m}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Share=e()}}(function(){var e;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,o;return o=function(e){return function(o){var i,n;n=(i=t.className.split(/\s+/)).indexOf(o),e(i,n,o),t.className=i.join(" ")}},t=this,e={add:o(function(e,t,o){~t||e.push(o)}),remove:o(function(e,t){~t&&e.splice(t,1)}),toggle:o(function(e,t,o){~t?e.splice(t,1):e.push(o)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){return encodeURIComponent(this).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e=function(){function e(){}return e.prototype.extend=function(e,t,o){var i,n;for(n in t)(i=void 0!==e[n])&&"object"==typeof t[n]?this.extend(e[n],t[n],o):(o||!i)&&(e[n]=t[n])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return void 0===e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var o,i,n,s;return null==t&&(t={}),(i={width:500,height:350}).top=screen.height/2-i.height/2,i.left=screen.width/2-i.width/2,(n=function(){var e;for(o in e=[],t)s=t[o],e.push(o+"="+this.encode(s));return e}.call(this).join("&"))&&(n="?"+n),window.open(e+n,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+i.left+",top="+i.top+",width="+i.width+",height="+i.height)},e}();var t={}.hasOwnProperty;return function(o){function i(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(this.element,t),this}return function(e,o){function i(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);i.prototype=o.prototype,e.prototype=new i,e.__super__=o.prototype}(i,e),i.prototype.setup=function(e,t){var o,i,n,s;for(n=[e],this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),i=o=0,s=n.length;s>o;i=++o)n[i],this.setup_instance(e,i)},i.prototype.setup_instance=function(e,t){var o,i,n,s,a,r,l,p;for(s=e,this.add_class(s,"sharer-"+t),this.inject_html(s),document.getElementById("flipbook-share-facebook").style.display=this.config.networks.facebook.display,document.getElementById("flipbook-share-twitter").style.display=this.config.networks.twitter.display,document.getElementById("flipbook-share-pinterest").style.display=this.config.networks.pinterest.display,document.getElementById("flipbook-share-email").style.display=this.config.networks.email.display,document.getElementById("flipbook-share-google_plus").style.display=this.config.networks.google_plus.display,s.getElementsByTagName("label")[0],i=s.getElementsByClassName("social")[0],l=s.getElementsByTagName("li"),this.add_class(i,"networks-"+this.config.enabled_networks),s.addEventListener("click",function(e){return function(){return e.event_toggle(i)}}(this)),o=this,p=[],t=n=0,a=l.length;a>n;t=++n)r=l[t],p.push(r.addEventListener("click",function(){return o.event_network(s,this),o.event_close(i)}));return p},i.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},i.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},i.prototype.event_close=function(e){return this.remove_class(e,"active")},i.prototype.event_network=function(e,t){var o;return o=t.getAttribute("data-network"),this.hook("before",o,e),this["network_"+o](),this.hook("after",o,e)},i.prototype.open=function(){return this.public("open")},i.prototype.close=function(){return this.public("close")},i.prototype.toggle=function(){return this.public("toggle")},i.prototype.public=function(e){var t,o,i,n,s,a;for(a=[],i=o=0,n=(s=document.querySelectorAll(this.element)).length;n>o;i=++o)t=s[i].getElementsByClassName("social")[0],a.push(this["event_"+e](t));return a},i.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},i.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},i.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},i.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},i.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description+"%0D%0A"+this.config.url})},i.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},i.prototype.inject_html=function(e){return e.innerHTML="<div class='social load "+this.config.ui.flyout+"'><ul><li id='flipbook-share-pinterest' class='fab fa-pinterest-p skin-color' data-network='pinterest'></li><li id='flipbook-share-twitter' class='fab fa-twitter skin-color' data-network='twitter'></li><li id='flipbook-share-facebook' class='fab fa-facebook-f skin-color' data-network='facebook'></li><li id='flipbook-share-google_plus' class='fab fa-google-plus-g skin-color' data-network='google_plus'></li><li id='flipbook-share-email' class='fas fa-at skin-color' data-network='email'></li></ul></div>"},i.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:((t=document.createElement("script")).text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",(e=document.createElement("div")).id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},i.prototype.hook=function(e,t,o){var i,n;"function"==typeof(i=this.config.networks[t][e])&&(void 0!==(n=i.call(this.config.networks[t],o))&&(n=this.normalize_filter_config_updates(n),this.extend(this.config.networks[t],n,!0),this.normalize_network_configuration()))},i.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},i.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},i.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},i.prototype.set_global_configuration=function(){var e,t,o,i,n;for(t in n=[],i=this.config.networks){for(o in i[t])null==this.config.networks[t][o]&&(this.config.networks[t][o]=this.config[o]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",n.push(this.config.networks[t].display=e)}return n},i.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},i.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},i}()});